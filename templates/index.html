<!DOCTYPE html>
<html>
<head>
    <title>DIY Home Improvement Guide</title>
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --chat-bg: #f9f9f9;
            --user-msg-bg: #e6f7ff;
            --bot-msg-bg: #f0f0f0;
            --input-bg: #ffffff;
            --input-border: #cccccc;
            --button-bg: #4CAF50;
            --button-hover: #45a049;
            --clear-btn-bg: #f44336;
            --clear-btn-hover: #d32f2f;
        }

        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --text-color: #ffffff;
            --chat-bg: #2d2d2d;
            --user-msg-bg: #1e3a5f;
            --bot-msg-bg: #3d3d3d;
            --input-bg: #2d2d2d;
            --input-border: #404040;
            --button-bg: #2e7d32;
            --button-hover: #1b5e20;
            --clear-btn-bg: #c62828;
            --clear-btn-hover: #b71c1c;
        }

        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }
        .chat-container {
            border: 1px solid var(--input-border);
            border-radius: 5px;
            padding: 10px;
            height: 500px;
            overflow-y: auto;
            margin-bottom: 10px;
            background-color: var(--chat-bg);
        }
        .user-message {
            background-color: var(--user-msg-bg);
            padding: 8px;
            border-radius: 5px;
            margin: 5px 0;
            max-width: 80%;
            margin-left: auto;
        }
        .bot-message {
            background-color: var(--bot-msg-bg);
            padding: 8px;
            border-radius: 5px;
            margin: 5px 0;
            max-width: 80%;
        }
        .input-container {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        #user-input {
            flex-grow: 1;
            padding: 8px;
            background-color: var(--input-bg);
            color: var(--text-color);
            border: 1px solid var(--input-border);
            border-radius: 4px;
        }
        button {
            padding: 8px 15px;
            background-color: var(--button-bg);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: var(--button-hover);
        }
        .clear-btn {
            background-color: var(--clear-btn-bg);
        }
        .clear-btn:hover {
            background-color: var(--clear-btn-hover);
        }
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 8px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background-color: var(--button-bg);
            border: none;
            z-index: 1000;
        }
        .theme-toggle:hover {
            background-color: var(--button-hover);
        }
        h1 {
            color: var(--text-color);
            text-align: center;
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark/Light Mode">
        ☀️
    </button>
    <h1>DIY Home Improvement Guide</h1>

    <!-- Chat Section -->
    <div class="chat-container" id="chat-container">
        <div class="bot-message">Hello! I'm your DIY Home Improvement assistant. Ask me about painting, plumbing, flooring, or electrical projects!</div>
    </div>
    <div class="input-container">
        <input type="text" id="user-input" placeholder="Ask about a DIY project...">
        <button onclick="sendMessage()">Send</button>
        <button class="clear-btn" onclick="clearHistory()">Clear History</button>
    </div>

    <script>
        // Theme handling
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        }

        function toggleTheme() {
            const currentTheme = localStorage.getItem('theme') || 'light';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            setTheme(newTheme);
        }

        // Initialize theme
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            setTheme(savedTheme);
        });

        // DIY responses
        const diyResponses = {
            painting: [
                "For painting walls, start by cleaning the surface and applying painter's tape to edges.",
                "Use a primer before applying paint for better coverage and durability.",
                "When painting, work from top to bottom and maintain a wet edge to avoid lap marks.",
                "Choose the right paint type for your surface - latex for walls, oil-based for trim.",
                "Always use drop cloths to protect floors and furniture."
            ],
            plumbing: [
                "Always turn off the water supply before starting any plumbing work.",
                "Use plumber's tape on threaded connections to prevent leaks.",
                "Keep a bucket handy when disconnecting pipes to catch residual water.",
                "For leaky faucets, check and replace washers or cartridges.",
                "Use a pipe wrench for better grip when working with pipes."
            ],
            flooring: [
                "Acclimate wood flooring in your home for at least 72 hours before installation.",
                "Start laying tiles from the center of the room and work outward for the best appearance.",
                "Use spacers between tiles to ensure even grout lines.",
                "For laminate flooring, leave expansion gaps around the perimeter.",
                "Always use underlayment for floating floors."
            ],
            electrical: [
                "Always turn off power at the breaker before working on electrical projects.",
                "Use a voltage tester to confirm power is off before touching any wires.",
                "Follow local electrical codes when installing new fixtures or outlets.",
                "Use wire nuts to secure connections and electrical tape for additional protection.",
                "Label your circuit breaker panel for easy identification."
            ],
            default: [
                "What DIY project are you working on? I can help with painting, plumbing, flooring, or electrical work.",
                "Try asking about specific home improvement tasks like wall painting or fixing a leaky faucet.",
                "I can provide step-by-step instructions for many home improvement projects. What are you interested in?"
            ]
        };

        function getDiyResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('paint') || lowerMessage.includes('wall')) {
                return diyResponses.painting[Math.floor(Math.random() * diyResponses.painting.length)];
            } else if (lowerMessage.includes('plumb') || lowerMessage.includes('pipe') || lowerMessage.includes('leak')) {
                return diyResponses.plumbing[Math.floor(Math.random() * diyResponses.plumbing.length)];
            } else if (lowerMessage.includes('floor') || lowerMessage.includes('tile')) {
                return diyResponses.flooring[Math.floor(Math.random() * diyResponses.flooring.length)];
            } else if (lowerMessage.includes('electr') || lowerMessage.includes('wire') || lowerMessage.includes('outlet')) {
                return diyResponses.electrical[Math.floor(Math.random() * diyResponses.electrical.length)];
            } else {
                return diyResponses.default[Math.floor(Math.random() * diyResponses.default.length)];
            }
        }

        function clearHistory() {
            const chatContainer = document.getElementById('chat-container');
            chatContainer.innerHTML = '<div class="bot-message">Hello! I\'m your DIY Home Improvement assistant. Ask me about painting, plumbing, flooring, or electrical projects!</div>';
        }

        function sendMessage() {
            const userInput = document.getElementById('user-input');
            const chatContainer = document.getElementById('chat-container');
            const message = userInput.value.trim();
            
            if (message === '') return;
            
            // Add user message to chat
            const userDiv = document.createElement('div');
            userDiv.className = 'user-message';
            userDiv.textContent = message;
            chatContainer.appendChild(userDiv);
            
            // Clear input
            userInput.value = '';
            
            // Add loading message
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'bot-message';
            loadingDiv.textContent = 'Thinking...';
            loadingDiv.id = 'loading-message';
            chatContainer.appendChild(loadingDiv);
            
            // Scroll to bottom
            chatContainer.scrollTop = chatContainer.scrollHeight;
            
            // Simulate response delay
            setTimeout(() => {
                // Remove loading message
                const loadingMessage = document.getElementById('loading-message');
                if (loadingMessage) {
                    loadingMessage.remove();
                }
                
                // Get and add bot response
                const response = getDiyResponse(message);
                const botDiv = document.createElement('div');
                botDiv.className = 'bot-message';
                botDiv.textContent = response;
                chatContainer.appendChild(botDiv);
                
                // Scroll to bottom
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1000);
        }
        
        // Allow Enter key to send message
        document.getElementById('user-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
</html>
